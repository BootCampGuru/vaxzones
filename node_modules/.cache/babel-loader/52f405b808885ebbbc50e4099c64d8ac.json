{"ast":null,"code":"(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('react'), require('react-scrolllock'), require('framer-motion'), require('react-dom'), require('classnames'), require('popper.js')) : typeof define === 'function' && define.amd ? define(['exports', 'react', 'react-scrolllock', 'framer-motion', 'react-dom', 'classnames', 'popper.js'], factory) : (global = global || self, factory(global.rdk = {}, global.React, global.ScrollLock, global.framerMotion, global.reactDom, global.classNames, global.PopperJS));\n})(this, function (exports, React, ScrollLock, framerMotion, reactDom, classNames, PopperJS) {\n  'use strict';\n\n  var React__default = 'default' in React ? React['default'] : React;\n  ScrollLock = ScrollLock && Object.prototype.hasOwnProperty.call(ScrollLock, 'default') ? ScrollLock['default'] : ScrollLock;\n  classNames = classNames && Object.prototype.hasOwnProperty.call(classNames, 'default') ? classNames['default'] : classNames;\n  PopperJS = PopperJS && Object.prototype.hasOwnProperty.call(PopperJS, 'default') ? PopperJS['default'] : PopperJS;\n\n  const useExitListener = (ref, options) => {\n    React.useLayoutEffect(() => {\n      const handleClick = event => {\n        const el = ref.current;\n\n        if (!(el === null || el === void 0 ? void 0 : el.contains(event.target)) && event.which !== 3) {\n          options === null || options === void 0 ? void 0 : options.onClickOutside(event);\n        }\n      };\n\n      const handleKey = event => {\n        if (event.keyCode === 27) {\n          options === null || options === void 0 ? void 0 : options.onEscape(event);\n        }\n      };\n\n      if (options.onClickOutside) {\n        document.addEventListener('mousedown', handleClick);\n        document.addEventListener('touchstart', handleClick);\n      }\n\n      if (handleKey) {\n        document.addEventListener('keydown', handleKey);\n      }\n\n      return () => {\n        if (options.onClickOutside) {\n          document.removeEventListener('mousedown', handleClick);\n          document.removeEventListener('touchstart', handleClick);\n        }\n\n        if (handleKey) {\n          document.removeEventListener('keydown', handleKey);\n        }\n      };\n    }, [ref, options]);\n  };\n  /*! *****************************************************************************\r\n  Copyright (c) Microsoft Corporation. All rights reserved.\r\n  Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n  this file except in compliance with the License. You may obtain a copy of the\r\n  License at http://www.apache.org/licenses/LICENSE-2.0\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n  MERCHANTABLITY OR NON-INFRINGEMENT.\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n  and limitations under the License.\r\n  ***************************************************************************** */\n\n\n  function __rest(s, e) {\n    var t = {};\n\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n      if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n    }\n    return t;\n  }\n\n  const OverlayContext = React.createContext({\n    close: () => undefined\n  });\n  const Portal = React.forwardRef(({\n    children,\n    element = 'div',\n    onMount = () => undefined,\n    onUnmount = () => undefined\n  }, ref) => {\n    const elementRef = React.useRef(document.createElement(element));\n    const mounted = React.useRef(false);\n    React.useLayoutEffect(() => {\n      onMount === null || onMount === void 0 ? void 0 : onMount();\n      return () => {\n        onUnmount === null || onUnmount === void 0 ? void 0 : onUnmount();\n        document.body.removeChild(elementRef.current);\n      };\n    }, []);\n\n    if (!mounted.current) {\n      mounted.current = true;\n      document.body.appendChild(elementRef.current);\n    }\n\n    const portal = reactDom.createPortal(children, elementRef.current);\n    React.useImperativeHandle(ref, () => elementRef.current);\n    return portal;\n  });\n\n  const usePortal = (props = {}) => {\n    const ref = React.useRef(null);\n    const Component = React.useCallback(({\n      children\n    }) => {\n      return React__default.createElement(Portal, Object.assign({}, props, {\n        ref: ref\n      }), children);\n    }, []);\n    return [Component, ref];\n  };\n\n  let id = 0;\n\n  const genId = () => ++id;\n  /**\r\n   * Auto-generate a id.\r\n   * Inspired by: https://github.com/reach/reach-ui/blob/master/packages/auto-id/src/index.ts\r\n   */\n\n\n  const useId = idFromProps => {\n    const [id] = React.useState(idFromProps || genId());\n    return `ref-${id}`;\n  };\n\n  const portals = [];\n  const START_INDEX = 990;\n\n  const useOverlayPortal = (props = {}) => {\n    const id = useId();\n    const [portalIndex, setPortalIndex] = React.useState(null);\n    const [overlayIndex, setOverlayIndex] = React.useState(null);\n    const [Portal, ref] = usePortal({\n      onMount: () => {\n        portals.push(id);\n        let pidx = portals.indexOf(id);\n\n        if (pidx === -1) {\n          pidx = 0;\n        }\n\n        setPortalIndex(pidx);\n        setOverlayIndex(START_INDEX + pidx * 2 + 1);\n        props.onMount && props.onMount();\n      },\n      onUnmount: () => {\n        props.onUnmount && props.onUnmount();\n        portals.splice(portals.indexOf(id), 1);\n        setPortalIndex(null);\n        setOverlayIndex(null);\n      }\n    });\n    return {\n      OverlayPortal: Portal,\n      ref,\n      portalIndex,\n      overlayIndex\n    };\n  };\n\n  const OverlayPortal = _a => {\n    var {\n      render,\n      children\n    } = _a,\n        rest = __rest(_a, [\"render\", \"children\"]);\n\n    const {\n      OverlayPortal: Component,\n      overlayIndex,\n      portalIndex\n    } = useOverlayPortal(rest);\n    const renderer = children || render;\n    return React__default.createElement(Component, Object.assign({}, rest), renderer({\n      overlayIndex,\n      portalIndex,\n      backdropIndex: overlayIndex\n    }));\n  };\n\n  function styleInject(css, ref) {\n    if (ref === void 0) ref = {};\n    var insertAt = ref.insertAt;\n\n    if (!css || typeof document === 'undefined') {\n      return;\n    }\n\n    var head = document.head || document.getElementsByTagName('head')[0];\n    var style = document.createElement('style');\n    style.type = 'text/css';\n\n    if (insertAt === 'top') {\n      if (head.firstChild) {\n        head.insertBefore(style, head.firstChild);\n      } else {\n        head.appendChild(style);\n      }\n    } else {\n      head.appendChild(style);\n    }\n\n    if (style.styleSheet) {\n      style.styleSheet.cssText = css;\n    } else {\n      style.appendChild(document.createTextNode(css));\n    }\n  }\n\n  var css = \".Backdrop-module_backdrop__3znpY {\\n  position: fixed;\\n  background: var(--color-layer-transparent);\\n  top: 0;\\n  bottom: 0;\\n  right: 0;\\n  left: 0;\\n  opacity: 0;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none; }\\n\";\n  var css$1 = {\n    \"backdrop\": \"Backdrop-module_backdrop__3znpY\"\n  };\n  styleInject(css);\n\n  const Backdrop = ({\n    portalIndex = 0,\n    zIndex = 998,\n    visible = false,\n    className,\n    onClick = () => undefined\n  }) => React__default.createElement(framerMotion.AnimatePresence, null, React__default.createElement(React.Fragment, null, visible && React__default.createElement(framerMotion.motion.div, {\n    className: classNames(css$1.backdrop, className),\n    initial: {\n      opacity: 0\n    },\n    animate: {\n      opacity: 0.8 - portalIndex / 10\n    },\n    exit: {\n      opacity: 0\n    },\n    onClick: onClick,\n    style: {\n      zIndex\n    }\n  })));\n\n  const useGlobalOverlay = options => {\n    const {\n      hasBackdrop = true,\n      closeOnEscape = true,\n      closeOnBackdropClick = true,\n      backdropClassName,\n      onClose = () => undefined\n    } = options || {};\n    const {\n      OverlayPortal,\n      ref,\n      overlayIndex,\n      portalIndex\n    } = useOverlayPortal();\n    const [open, setOpen] = React.useState(false);\n    const onBackdropClick = React.useCallback(() => {\n      if (closeOnBackdropClick) {\n        onClose === null || onClose === void 0 ? void 0 : onClose();\n      }\n    }, [closeOnBackdropClick]);\n    useExitListener(ref, {\n      onEscape: () => closeOnEscape && (onClose === null || onClose === void 0 ? void 0 : onClose())\n    });\n    const Component = React.useCallback(({\n      children\n    }) => React__default.createElement(OverlayContext.Provider, {\n      value: {\n        close: () => onClose === null || onClose === void 0 ? void 0 : onClose()\n      }\n    }, React__default.createElement(framerMotion.AnimatePresence, null, open && React__default.createElement(OverlayPortal, {\n      key: `go-${portalIndex}`\n    }, hasBackdrop && React__default.createElement(Backdrop, {\n      zIndex: overlayIndex,\n      portalIndex: portalIndex,\n      visible: open,\n      onClick: onBackdropClick,\n      className: backdropClassName\n    }), children(), React__default.createElement(ScrollLock, null)))), [open, overlayIndex, portalIndex, backdropClassName, onBackdropClick]);\n    return {\n      overlayIndex,\n      portalIndex,\n      isOpen: open,\n      setOpen,\n      ref,\n      GlobalOverlay: Component\n    };\n  };\n\n  const GlobalOverlay = _a => {\n    var {\n      children,\n      render,\n      open,\n      onClose = () => undefined\n    } = _a,\n        rest = __rest(_a, [\"children\", \"render\", \"open\", \"onClose\"]);\n\n    const {\n      GlobalOverlay: Component,\n      overlayIndex,\n      portalIndex,\n      setOpen\n    } = useGlobalOverlay(Object.assign({\n      onClose\n    }, rest));\n    const renderFn = children || render;\n    React.useEffect(() => {\n      setOpen(open);\n    }, [open]);\n    return React__default.createElement(Component, null, () => renderFn({\n      overlayIndex,\n      portalIndex\n    }));\n  };\n\n  const OverlayTrigger = React.forwardRef(({\n    children,\n    className,\n    elementType = 'span',\n    trigger = ['click'],\n    onActivate,\n    onDeactivate\n  }, ref) => {\n    const hasTrigger = React.useCallback(type => {\n      if (Array.isArray(trigger)) {\n        return trigger.includes(type);\n      } else {\n        return type === trigger;\n      }\n    }, [trigger]);\n    const onFocus = React.useCallback(event => {\n      if (hasTrigger('focus')) {\n        onActivate({\n          type: 'focus',\n          nativeEvent: event\n        });\n      }\n    }, [onActivate, hasTrigger]);\n    const onBlur = React.useCallback(event => {\n      if (hasTrigger('focus')) {\n        onDeactivate({\n          type: 'focus',\n          nativeEvent: event\n        });\n      }\n    }, [onDeactivate, hasTrigger]);\n    const onMouseEnter = React.useCallback(event => {\n      if (hasTrigger('hover')) {\n        onActivate({\n          type: 'hover',\n          nativeEvent: event\n        });\n      }\n    }, [onActivate, hasTrigger]);\n    const onMouseLeave = React.useCallback(event => {\n      if (hasTrigger('hover')) {\n        onDeactivate({\n          type: 'hover',\n          nativeEvent: event\n        });\n      }\n    }, [onDeactivate, hasTrigger]);\n    const onClick = React.useCallback(event => {\n      if (hasTrigger('click')) {\n        onActivate({\n          type: 'click',\n          nativeEvent: event\n        });\n      } // Kill the tooltip on click if its not a click listener\n\n\n      if (!hasTrigger('click')) {\n        onDeactivate({\n          type: 'hover',\n          nativeEvent: event\n        });\n      }\n    }, [onActivate, onDeactivate, hasTrigger]);\n    const onContextMenu = React.useCallback(event => {\n      if (hasTrigger('contextmenu')) {\n        event.preventDefault();\n        onActivate({\n          type: 'contextmenu',\n          nativeEvent: event\n        });\n      }\n    }, []);\n    const tabIndex = hasTrigger('focus') ? -1 : undefined;\n    const Component = elementType;\n    return React__default.createElement(Component, {\n      ref: ref,\n      tabIndex: tabIndex,\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      onFocus: onFocus,\n      onBlur: onBlur,\n      onClick: onClick,\n      onContextMenu: onContextMenu,\n      className: className\n    }, children);\n  });\n\n  const usePosition = (reference, {\n    followCursor,\n    placement,\n    modifiers\n  } = {}) => {\n    const elementRef = React.useRef(null);\n    const popper = React.useRef(null);\n    const mouse = React.useRef({\n      pageX: 0,\n      pageY: 0\n    }); // Find the real reference pointer for updating\n\n    const refPointer = reference.current;\n    const popperRef = React.useMemo(() => {\n      const refObj = reference;\n\n      if (refObj.current !== undefined) {\n        return refObj.current;\n      }\n\n      const refElement = reference;\n\n      if (followCursor) {\n        return {\n          getBoundingClientRect: () => ({\n            top: mouse.current.pageY,\n            right: mouse.current.pageX,\n            bottom: mouse.current.pageY,\n            left: mouse.current.pageX,\n            width: 0,\n            height: 0\n          }),\n          clientWidth: 0,\n          clientHeight: 0\n        };\n      } else if (refElement && !refElement.getBoundingClientRect) {\n        const {\n          top,\n          left,\n          width,\n          height\n        } = reference;\n        return {\n          getBoundingClientRect: () => ({\n            top,\n            left,\n            width,\n            bottom: top - height,\n            right: left - width,\n            height\n          }),\n          clientWidth: width,\n          clientHeight: height\n        };\n      }\n\n      return refElement;\n    }, [followCursor, reference, refPointer, mouse]);\n    const onMouseMove = React.useCallback(({\n      pageX,\n      pageY\n    }) => {\n      var _a;\n\n      mouse.current = {\n        pageX,\n        pageY\n      };\n      (_a = popper.current) === null || _a === void 0 ? void 0 : _a.scheduleUpdate();\n    }, []);\n    React.useLayoutEffect(() => {\n      if (elementRef.current && popperRef) {\n        popper.current = new PopperJS(popperRef, elementRef.current, {\n          placement: placement || 'top',\n          modifiers: modifiers || {},\n          onCreate: () => {\n            if (followCursor) {\n              window.addEventListener('mousemove', onMouseMove);\n            }\n          }\n        });\n      }\n\n      return () => {\n        var _a;\n\n        if (!elementRef.current) {\n          (_a = popper.current) === null || _a === void 0 ? void 0 : _a.destroy();\n\n          if (followCursor) {\n            window.removeEventListener('mousemove', onMouseMove);\n          }\n        }\n      };\n    }, [elementRef.current]);\n    React.useLayoutEffect(() => {\n      if (popper.current) {\n        popper.current.reference = popperRef;\n        popper.current.scheduleUpdate();\n      }\n    }, [popperRef]);\n    return [elementRef, popper];\n  };\n\n  var css$2 = \".Position-module_container__2OGTq {\\n  pointer-events: none; }\\n  .Position-module_container__2OGTq > * {\\n    pointer-events: initial; }\\n\";\n  var css$3 = {\n    \"container\": \"Position-module_container__2OGTq\"\n  };\n  styleInject(css$2);\n  const Position = React.forwardRef((_a, ref) => {\n    var {\n      className,\n      style,\n      children,\n      reference\n    } = _a,\n        rest = __rest(_a, [\"className\", \"style\", \"children\", \"reference\"]);\n\n    const [positionRef, popperRef] = usePosition(reference, rest);\n    React.useImperativeHandle(ref, () => ({\n      updatePosition: () => popperRef.current.scheduleUpdate()\n    }));\n    return React__default.createElement(\"span\", {\n      ref: positionRef,\n      className: classNames(className, css$3.container),\n      style: style\n    }, children);\n  });\n\n  const useConnectedOverlay = (triggerRef, options) => {\n    const {\n      closeOnBodyClick = true,\n      closeOnEscape = true,\n      elementType,\n      style = {},\n      className,\n      appendToBody = true,\n      followCursor,\n      modifiers,\n      placement = 'bottom'\n    } = options || {};\n    const [open, setOpen] = React.useState(false);\n    const {\n      OverlayPortal,\n      ref,\n      overlayIndex,\n      portalIndex\n    } = useOverlayPortal();\n    const [positionRef, innerPopperRef] = usePosition(triggerRef, {\n      followCursor,\n      modifiers,\n      placement\n    });\n    useExitListener(ref, {\n      onClickOutside: event => {\n        if (closeOnBodyClick) {\n          let ref = null;\n\n          if (triggerRef.current) {\n            ref = triggerRef.current;\n          } else if (triggerRef.contains !== undefined) {\n            ref = triggerRef;\n          }\n\n          if (ref && !ref.contains(event.target)) {\n            setOpen(false);\n          }\n        }\n      },\n      onEscape: () => closeOnEscape && setOpen(false)\n    });\n    const Component = React.useCallback(({\n      children\n    }) => React__default.createElement(OverlayContext.Provider, {\n      value: {\n        close: () => setOpen(false)\n      }\n    }, React__default.createElement(framerMotion.AnimatePresence, null, open && (appendToBody ? React__default.createElement(OverlayPortal, {\n      key: `co-${overlayIndex}`,\n      elementType: elementType\n    }, React__default.createElement(\"div\", {\n      ref: positionRef,\n      style: Object.assign({\n        zIndex: overlayIndex\n      }, style || {}),\n      className: className\n    }, children({\n      overlayIndex,\n      portalIndex\n    }))) : React__default.createElement(\"div\", {\n      key: `co-${overlayIndex}`,\n      ref: positionRef,\n      style: Object.assign({\n        zIndex: overlayIndex\n      }, style || {}),\n      className: className\n    }, children({\n      overlayIndex,\n      portalIndex\n    }))))), [open, overlayIndex, portalIndex]);\n    return {\n      overlayIndex: overlayIndex,\n      portalIndex: portalIndex,\n      isOpen: open,\n      setOpen,\n      ref,\n      popperRef: innerPopperRef,\n      ConnectedOverlay: Component\n    };\n  };\n\n  const ConnectedOverlay = React.forwardRef((_a, ref) => {\n    var {\n      reference,\n      children,\n      open,\n      content,\n      triggerElement,\n      triggerClassName,\n      trigger = 'click',\n      onActivate,\n      onDeactivate\n    } = _a,\n        rest = __rest(_a, [\"reference\", \"children\", \"open\", \"content\", \"triggerElement\", \"triggerClassName\", \"trigger\", \"onActivate\", \"onDeactivate\"]);\n\n    const mounted = React.useRef(false);\n    const overlayTriggerRef = React.useRef(null);\n    const triggerRef = reference || overlayTriggerRef;\n    const {\n      ConnectedOverlay: Component,\n      setOpen,\n      isOpen,\n      popperRef\n    } = useConnectedOverlay(triggerRef, rest);\n    React.useImperativeHandle(ref, () => ({\n      updatePosition: () => {\n        var _a;\n\n        (_a = popperRef === null || popperRef === void 0 ? void 0 : popperRef.current) === null || _a === void 0 ? void 0 : _a.scheduleUpdate();\n      }\n    }));\n    React.useEffect(() => {\n      setOpen(open);\n    }, [open]);\n    React.useEffect(() => {\n      if (mounted.current) {\n        if (!isOpen) {\n          onDeactivate && onDeactivate();\n        } else {\n          onActivate && onActivate();\n        }\n      } else {\n        mounted.current = true;\n      }\n    }, [isOpen]);\n    return React__default.createElement(React.Fragment, null, children && (trigger ? React__default.createElement(OverlayTrigger, {\n      elementType: triggerElement,\n      ref: overlayTriggerRef,\n      className: triggerClassName,\n      trigger: trigger,\n      onActivate: event => {\n        onActivate === null || onActivate === void 0 ? void 0 : onActivate(event);\n      },\n      onDeactivate: event => {\n        onDeactivate === null || onDeactivate === void 0 ? void 0 : onDeactivate(event);\n      }\n    }, children) : children), React__default.createElement(Component, null, () => content()));\n  });\n\n  const useOverlay = () => {\n    const context = React.useContext(OverlayContext);\n\n    if (context === undefined) {\n      throw new Error('`useOverlay` hook can only be used inside a overlay component.');\n    }\n\n    return context;\n  };\n\n  exports.Backdrop = Backdrop;\n  exports.ConnectedOverlay = ConnectedOverlay;\n  exports.GlobalOverlay = GlobalOverlay;\n  exports.OverlayContext = OverlayContext;\n  exports.OverlayPortal = OverlayPortal;\n  exports.OverlayTrigger = OverlayTrigger;\n  exports.Portal = Portal;\n  exports.Position = Position;\n  exports.useConnectedOverlay = useConnectedOverlay;\n  exports.useExitListener = useExitListener;\n  exports.useGlobalOverlay = useGlobalOverlay;\n  exports.useId = useId;\n  exports.useOverlay = useOverlay;\n  exports.useOverlayPortal = useOverlayPortal;\n  exports.usePortal = usePortal;\n  exports.usePosition = usePosition;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n});","map":{"version":3,"sources":["/Users/ranjanbiswas/Projects/vaxzones/node_modules/rdk/dist/index.js"],"names":["global","factory","exports","module","require","define","amd","self","rdk","React","ScrollLock","framerMotion","reactDom","classNames","PopperJS","React__default","Object","prototype","hasOwnProperty","call","useExitListener","ref","options","useLayoutEffect","handleClick","event","el","current","contains","target","which","onClickOutside","handleKey","keyCode","onEscape","document","addEventListener","removeEventListener","__rest","s","e","t","p","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","OverlayContext","createContext","close","undefined","Portal","forwardRef","children","element","onMount","onUnmount","elementRef","useRef","createElement","mounted","body","removeChild","appendChild","portal","createPortal","useImperativeHandle","usePortal","props","Component","useCallback","assign","id","genId","useId","idFromProps","useState","portals","START_INDEX","useOverlayPortal","portalIndex","setPortalIndex","overlayIndex","setOverlayIndex","push","pidx","splice","OverlayPortal","_a","render","rest","renderer","backdropIndex","styleInject","css","insertAt","head","getElementsByTagName","style","type","firstChild","insertBefore","styleSheet","cssText","createTextNode","css$1","Backdrop","zIndex","visible","className","onClick","AnimatePresence","Fragment","motion","div","backdrop","initial","opacity","animate","exit","useGlobalOverlay","hasBackdrop","closeOnEscape","closeOnBackdropClick","backdropClassName","onClose","open","setOpen","onBackdropClick","Provider","value","key","isOpen","GlobalOverlay","renderFn","useEffect","OverlayTrigger","elementType","trigger","onActivate","onDeactivate","hasTrigger","Array","isArray","includes","onFocus","nativeEvent","onBlur","onMouseEnter","onMouseLeave","onContextMenu","preventDefault","tabIndex","usePosition","reference","followCursor","placement","modifiers","popper","mouse","pageX","pageY","refPointer","popperRef","useMemo","refObj","refElement","getBoundingClientRect","top","right","bottom","left","width","height","clientWidth","clientHeight","onMouseMove","scheduleUpdate","onCreate","window","destroy","css$2","css$3","Position","positionRef","updatePosition","container","useConnectedOverlay","triggerRef","closeOnBodyClick","appendToBody","innerPopperRef","ConnectedOverlay","content","triggerElement","triggerClassName","overlayTriggerRef","useOverlay","context","useContext","Error","defineProperty"],"mappings":"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","sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('react'), require('react-scrolllock'), require('framer-motion'), require('react-dom'), require('classnames'), require('popper.js')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'react', 'react-scrolllock', 'framer-motion', 'react-dom', 'classnames', 'popper.js'], factory) :\n  (global = global || self, factory(global.rdk = {}, global.React, global.ScrollLock, global.framerMotion, global.reactDom, global.classNames, global.PopperJS));\n}(this, (function (exports, React, ScrollLock, framerMotion, reactDom, classNames, PopperJS) { 'use strict';\n\n  var React__default = 'default' in React ? React['default'] : React;\n  ScrollLock = ScrollLock && Object.prototype.hasOwnProperty.call(ScrollLock, 'default') ? ScrollLock['default'] : ScrollLock;\n  classNames = classNames && Object.prototype.hasOwnProperty.call(classNames, 'default') ? classNames['default'] : classNames;\n  PopperJS = PopperJS && Object.prototype.hasOwnProperty.call(PopperJS, 'default') ? PopperJS['default'] : PopperJS;\n\n  const useExitListener = (ref, options) => {\r\n      React.useLayoutEffect(() => {\r\n          const handleClick = event => {\r\n              const el = ref.current;\r\n              if (!(el === null || el === void 0 ? void 0 : el.contains(event.target)) && event.which !== 3) {\r\n                  options === null || options === void 0 ? void 0 : options.onClickOutside(event);\r\n              }\r\n          };\r\n          const handleKey = event => {\r\n              if (event.keyCode === 27) {\r\n                  options === null || options === void 0 ? void 0 : options.onEscape(event);\r\n              }\r\n          };\r\n          if (options.onClickOutside) {\r\n              document.addEventListener('mousedown', handleClick);\r\n              document.addEventListener('touchstart', handleClick);\r\n          }\r\n          if (handleKey) {\r\n              document.addEventListener('keydown', handleKey);\r\n          }\r\n          return () => {\r\n              if (options.onClickOutside) {\r\n                  document.removeEventListener('mousedown', handleClick);\r\n                  document.removeEventListener('touchstart', handleClick);\r\n              }\r\n              if (handleKey) {\r\n                  document.removeEventListener('keydown', handleKey);\r\n              }\r\n          };\r\n      }, [ref, options]);\r\n  };\n\n  /*! *****************************************************************************\r\n  Copyright (c) Microsoft Corporation. All rights reserved.\r\n  Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n  this file except in compliance with the License. You may obtain a copy of the\r\n  License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n  MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n  See the Apache Version 2.0 License for specific language governing permissions\r\n  and limitations under the License.\r\n  ***************************************************************************** */\r\n\r\n  function __rest(s, e) {\r\n      var t = {};\r\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n          t[p] = s[p];\r\n      if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n          for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n              if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                  t[p[i]] = s[p[i]];\r\n          }\r\n      return t;\r\n  }\n\n  const OverlayContext = React.createContext({\r\n      close: () => undefined\r\n  });\n\n  const Portal = React.forwardRef(({ children, element = 'div', onMount = () => undefined, onUnmount = () => undefined }, ref) => {\r\n      const elementRef = React.useRef(document.createElement(element));\r\n      const mounted = React.useRef(false);\r\n      React.useLayoutEffect(() => {\r\n          onMount === null || onMount === void 0 ? void 0 : onMount();\r\n          return () => {\r\n              onUnmount === null || onUnmount === void 0 ? void 0 : onUnmount();\r\n              document.body.removeChild(elementRef.current);\r\n          };\r\n      }, []);\r\n      if (!mounted.current) {\r\n          mounted.current = true;\r\n          document.body.appendChild(elementRef.current);\r\n      }\r\n      const portal = reactDom.createPortal(children, elementRef.current);\r\n      React.useImperativeHandle(ref, () => elementRef.current);\r\n      return portal;\r\n  });\n\n  const usePortal = (props = {}) => {\r\n      const ref = React.useRef(null);\r\n      const Component = React.useCallback(({ children }) => {\r\n          return React__default.createElement(Portal, Object.assign({}, props, { ref: ref }), children);\r\n      }, []);\r\n      return [Component, ref];\r\n  };\n\n  let id = 0;\r\n  const genId = () => ++id;\r\n  /**\r\n   * Auto-generate a id.\r\n   * Inspired by: https://github.com/reach/reach-ui/blob/master/packages/auto-id/src/index.ts\r\n   */\r\n  const useId = (idFromProps) => {\r\n      const [id] = React.useState(idFromProps || genId());\r\n      return `ref-${id}`;\r\n  };\n\n  const portals = [];\r\n  const START_INDEX = 990;\r\n  const useOverlayPortal = (props = {}) => {\r\n      const id = useId();\r\n      const [portalIndex, setPortalIndex] = React.useState(null);\r\n      const [overlayIndex, setOverlayIndex] = React.useState(null);\r\n      const [Portal, ref] = usePortal({\r\n          onMount: () => {\r\n              portals.push(id);\r\n              let pidx = portals.indexOf(id);\r\n              if (pidx === -1) {\r\n                  pidx = 0;\r\n              }\r\n              setPortalIndex(pidx);\r\n              setOverlayIndex(START_INDEX + pidx * 2 + 1);\r\n              props.onMount && props.onMount();\r\n          },\r\n          onUnmount: () => {\r\n              props.onUnmount && props.onUnmount();\r\n              portals.splice(portals.indexOf(id), 1);\r\n              setPortalIndex(null);\r\n              setOverlayIndex(null);\r\n          }\r\n      });\r\n      return {\r\n          OverlayPortal: Portal,\r\n          ref,\r\n          portalIndex,\r\n          overlayIndex\r\n      };\r\n  };\n\n  const OverlayPortal = (_a) => {\r\n      var { render, children } = _a, rest = __rest(_a, [\"render\", \"children\"]);\r\n      const { OverlayPortal: Component, overlayIndex, portalIndex } = useOverlayPortal(rest);\r\n      const renderer = children || render;\r\n      return (React__default.createElement(Component, Object.assign({}, rest), renderer({ overlayIndex, portalIndex, backdropIndex: overlayIndex })));\r\n  };\n\n  function styleInject(css, ref) {\n    if ( ref === void 0 ) ref = {};\n    var insertAt = ref.insertAt;\n\n    if (!css || typeof document === 'undefined') { return; }\n\n    var head = document.head || document.getElementsByTagName('head')[0];\n    var style = document.createElement('style');\n    style.type = 'text/css';\n\n    if (insertAt === 'top') {\n      if (head.firstChild) {\n        head.insertBefore(style, head.firstChild);\n      } else {\n        head.appendChild(style);\n      }\n    } else {\n      head.appendChild(style);\n    }\n\n    if (style.styleSheet) {\n      style.styleSheet.cssText = css;\n    } else {\n      style.appendChild(document.createTextNode(css));\n    }\n  }\n\n  var css = \".Backdrop-module_backdrop__3znpY {\\n  position: fixed;\\n  background: var(--color-layer-transparent);\\n  top: 0;\\n  bottom: 0;\\n  right: 0;\\n  left: 0;\\n  opacity: 0;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none; }\\n\";\n  var css$1 = {\"backdrop\":\"Backdrop-module_backdrop__3znpY\"};\n  styleInject(css);\n\n  const Backdrop = ({ portalIndex = 0, zIndex = 998, visible = false, className, onClick = () => undefined }) => (React__default.createElement(framerMotion.AnimatePresence, null,\r\n      React__default.createElement(React.Fragment, null, visible && (React__default.createElement(framerMotion.motion.div, { className: classNames(css$1.backdrop, className), initial: { opacity: 0 }, animate: { opacity: 0.8 - portalIndex / 10 }, exit: { opacity: 0 }, onClick: onClick, style: { zIndex } })))));\n\n  const useGlobalOverlay = (options) => {\r\n      const { hasBackdrop = true, closeOnEscape = true, closeOnBackdropClick = true, backdropClassName, onClose = () => undefined, } = options || {};\r\n      const { OverlayPortal, ref, overlayIndex, portalIndex } = useOverlayPortal();\r\n      const [open, setOpen] = React.useState(false);\r\n      const onBackdropClick = React.useCallback(() => {\r\n          if (closeOnBackdropClick) {\r\n              onClose === null || onClose === void 0 ? void 0 : onClose();\r\n          }\r\n      }, [closeOnBackdropClick]);\r\n      useExitListener(ref, {\r\n          onEscape: () => closeOnEscape && (onClose === null || onClose === void 0 ? void 0 : onClose()),\r\n      });\r\n      const Component = React.useCallback(({ children }) => (React__default.createElement(OverlayContext.Provider, { value: { close: () => onClose === null || onClose === void 0 ? void 0 : onClose() } },\r\n          React__default.createElement(framerMotion.AnimatePresence, null, open && (React__default.createElement(OverlayPortal, { key: `go-${portalIndex}` },\r\n              hasBackdrop && (React__default.createElement(Backdrop, { zIndex: overlayIndex, portalIndex: portalIndex, visible: open, onClick: onBackdropClick, className: backdropClassName })),\r\n              children(),\r\n              React__default.createElement(ScrollLock, null)))))), [open, overlayIndex, portalIndex, backdropClassName, onBackdropClick]);\r\n      return {\r\n          overlayIndex,\r\n          portalIndex,\r\n          isOpen: open,\r\n          setOpen,\r\n          ref,\r\n          GlobalOverlay: Component\r\n      };\r\n  };\n\n  const GlobalOverlay = (_a) => {\r\n      var { children, render, open, onClose = () => undefined } = _a, rest = __rest(_a, [\"children\", \"render\", \"open\", \"onClose\"]);\r\n      const { GlobalOverlay: Component, overlayIndex, portalIndex, setOpen, } = useGlobalOverlay(Object.assign({ onClose }, rest));\r\n      const renderFn = children || render;\r\n      React.useEffect(() => {\r\n          setOpen(open);\r\n      }, [open]);\r\n      return React__default.createElement(Component, null, () => renderFn({ overlayIndex, portalIndex }));\r\n  };\n\n  const OverlayTrigger = React.forwardRef(({ children, className, elementType = 'span', trigger = ['click'], onActivate, onDeactivate }, ref) => {\r\n      const hasTrigger = React.useCallback((type) => {\r\n          if (Array.isArray(trigger)) {\r\n              return trigger.includes(type);\r\n          }\r\n          else {\r\n              return type === trigger;\r\n          }\r\n      }, [trigger]);\r\n      const onFocus = React.useCallback(event => {\r\n          if (hasTrigger('focus')) {\r\n              onActivate({ type: 'focus', nativeEvent: event });\r\n          }\r\n      }, [onActivate, hasTrigger]);\r\n      const onBlur = React.useCallback(event => {\r\n          if (hasTrigger('focus')) {\r\n              onDeactivate({ type: 'focus', nativeEvent: event });\r\n          }\r\n      }, [onDeactivate, hasTrigger]);\r\n      const onMouseEnter = React.useCallback(event => {\r\n          if (hasTrigger('hover')) {\r\n              onActivate({ type: 'hover', nativeEvent: event });\r\n          }\r\n      }, [onActivate, hasTrigger]);\r\n      const onMouseLeave = React.useCallback(event => {\r\n          if (hasTrigger('hover')) {\r\n              onDeactivate({ type: 'hover', nativeEvent: event });\r\n          }\r\n      }, [onDeactivate, hasTrigger]);\r\n      const onClick = React.useCallback(event => {\r\n          if (hasTrigger('click')) {\r\n              onActivate({ type: 'click', nativeEvent: event });\r\n          }\r\n          // Kill the tooltip on click if its not a click listener\r\n          if (!hasTrigger('click')) {\r\n              onDeactivate({ type: 'hover', nativeEvent: event });\r\n          }\r\n      }, [onActivate, onDeactivate, hasTrigger]);\r\n      const onContextMenu = React.useCallback(event => {\r\n          if (hasTrigger('contextmenu')) {\r\n              event.preventDefault();\r\n              onActivate({ type: 'contextmenu', nativeEvent: event });\r\n          }\r\n      }, []);\r\n      const tabIndex = hasTrigger('focus') ? -1 : undefined;\r\n      const Component = elementType;\r\n      return (React__default.createElement(Component, { ref: ref, tabIndex: tabIndex, onMouseEnter: onMouseEnter, onMouseLeave: onMouseLeave, onFocus: onFocus, onBlur: onBlur, onClick: onClick, onContextMenu: onContextMenu, className: className }, children));\r\n  });\n\n  const usePosition = (reference, { followCursor, placement, modifiers } = {}) => {\r\n      const elementRef = React.useRef(null);\r\n      const popper = React.useRef(null);\r\n      const mouse = React.useRef({\r\n          pageX: 0,\r\n          pageY: 0\r\n      });\r\n      // Find the real reference pointer for updating\r\n      const refPointer = reference.current;\r\n      const popperRef = React.useMemo(() => {\r\n          const refObj = reference;\r\n          if (refObj.current !== undefined) {\r\n              return refObj.current;\r\n          }\r\n          const refElement = reference;\r\n          if (followCursor) {\r\n              return {\r\n                  getBoundingClientRect: () => ({\r\n                      top: mouse.current.pageY,\r\n                      right: mouse.current.pageX,\r\n                      bottom: mouse.current.pageY,\r\n                      left: mouse.current.pageX,\r\n                      width: 0,\r\n                      height: 0\r\n                  }),\r\n                  clientWidth: 0,\r\n                  clientHeight: 0\r\n              };\r\n          }\r\n          else if (refElement && !refElement.getBoundingClientRect) {\r\n              const { top, left, width, height } = reference;\r\n              return {\r\n                  getBoundingClientRect: () => ({\r\n                      top,\r\n                      left,\r\n                      width,\r\n                      bottom: top - height,\r\n                      right: left - width,\r\n                      height\r\n                  }),\r\n                  clientWidth: width,\r\n                  clientHeight: height\r\n              };\r\n          }\r\n          return refElement;\r\n      }, [followCursor, reference, refPointer, mouse]);\r\n      const onMouseMove = React.useCallback(({ pageX, pageY }) => {\r\n          var _a;\r\n          mouse.current = { pageX, pageY };\r\n          (_a = popper.current) === null || _a === void 0 ? void 0 : _a.scheduleUpdate();\r\n      }, []);\r\n      React.useLayoutEffect(() => {\r\n          if (elementRef.current && popperRef) {\r\n              popper.current = new PopperJS(popperRef, elementRef.current, {\r\n                  placement: placement || 'top',\r\n                  modifiers: modifiers || {},\r\n                  onCreate: () => {\r\n                      if (followCursor) {\r\n                          window.addEventListener('mousemove', onMouseMove);\r\n                      }\r\n                  }\r\n              });\r\n          }\r\n          return () => {\r\n              var _a;\r\n              if (!elementRef.current) {\r\n                  (_a = popper.current) === null || _a === void 0 ? void 0 : _a.destroy();\r\n                  if (followCursor) {\r\n                      window.removeEventListener('mousemove', onMouseMove);\r\n                  }\r\n              }\r\n          };\r\n      }, [elementRef.current]);\r\n      React.useLayoutEffect(() => {\r\n          if (popper.current) {\r\n              popper.current.reference = popperRef;\r\n              popper.current.scheduleUpdate();\r\n          }\r\n      }, [popperRef]);\r\n      return [elementRef, popper];\r\n  };\n\n  var css$2 = \".Position-module_container__2OGTq {\\n  pointer-events: none; }\\n  .Position-module_container__2OGTq > * {\\n    pointer-events: initial; }\\n\";\n  var css$3 = {\"container\":\"Position-module_container__2OGTq\"};\n  styleInject(css$2);\n\n  const Position = React.forwardRef((_a, ref) => {\r\n      var { className, style, children, reference } = _a, rest = __rest(_a, [\"className\", \"style\", \"children\", \"reference\"]);\r\n      const [positionRef, popperRef] = usePosition(reference, rest);\r\n      React.useImperativeHandle(ref, () => ({\r\n          updatePosition: () => popperRef.current.scheduleUpdate()\r\n      }));\r\n      return (React__default.createElement(\"span\", { ref: positionRef, className: classNames(className, css$3.container), style: style }, children));\r\n  });\n\n  const useConnectedOverlay = (triggerRef, options) => {\r\n      const { closeOnBodyClick = true, closeOnEscape = true, elementType, style = {}, className, appendToBody = true, followCursor, modifiers, placement = 'bottom' } = options || {};\r\n      const [open, setOpen] = React.useState(false);\r\n      const { OverlayPortal, ref, overlayIndex, portalIndex } = useOverlayPortal();\r\n      const [positionRef, innerPopperRef] = usePosition(triggerRef, {\r\n          followCursor,\r\n          modifiers,\r\n          placement\r\n      });\r\n      useExitListener(ref, {\r\n          onClickOutside: event => {\r\n              if (closeOnBodyClick) {\r\n                  let ref = null;\r\n                  if (triggerRef.current) {\r\n                      ref = triggerRef\r\n                          .current;\r\n                  }\r\n                  else if (triggerRef.contains !== undefined) {\r\n                      ref = triggerRef;\r\n                  }\r\n                  if (ref && !ref.contains(event.target)) {\r\n                      setOpen(false);\r\n                  }\r\n              }\r\n          },\r\n          onEscape: () => closeOnEscape && setOpen(false)\r\n      });\r\n      const Component = React.useCallback(({ children }) => (React__default.createElement(OverlayContext.Provider, { value: { close: () => setOpen(false) } },\r\n          React__default.createElement(framerMotion.AnimatePresence, null, open && (appendToBody ? (React__default.createElement(OverlayPortal, { key: `co-${overlayIndex}`, elementType: elementType },\r\n              React__default.createElement(\"div\", { ref: positionRef, style: Object.assign({ zIndex: overlayIndex }, (style || {})), className: className }, children({ overlayIndex, portalIndex })))) : (React__default.createElement(\"div\", { key: `co-${overlayIndex}`, ref: positionRef, style: Object.assign({ zIndex: overlayIndex }, (style || {})), className: className }, children({ overlayIndex, portalIndex }))))))), [open, overlayIndex, portalIndex]);\r\n      return {\r\n          overlayIndex: overlayIndex,\r\n          portalIndex: portalIndex,\r\n          isOpen: open,\r\n          setOpen,\r\n          ref,\r\n          popperRef: innerPopperRef,\r\n          ConnectedOverlay: Component\r\n      };\r\n  };\n\n  const ConnectedOverlay = React.forwardRef((_a, ref) => {\r\n      var { reference, children, open, content, triggerElement, triggerClassName, trigger = 'click', onActivate, onDeactivate } = _a, rest = __rest(_a, [\"reference\", \"children\", \"open\", \"content\", \"triggerElement\", \"triggerClassName\", \"trigger\", \"onActivate\", \"onDeactivate\"]);\r\n      const mounted = React.useRef(false);\r\n      const overlayTriggerRef = React.useRef(null);\r\n      const triggerRef = reference || overlayTriggerRef;\r\n      const { ConnectedOverlay: Component, setOpen, isOpen, popperRef } = useConnectedOverlay(triggerRef, rest);\r\n      React.useImperativeHandle(ref, () => ({\r\n          updatePosition: () => {\r\n              var _a;\r\n              (_a = popperRef === null || popperRef === void 0 ? void 0 : popperRef.current) === null || _a === void 0 ? void 0 : _a.scheduleUpdate();\r\n          }\r\n      }));\r\n      React.useEffect(() => {\r\n          setOpen(open);\r\n      }, [open]);\r\n      React.useEffect(() => {\r\n          if (mounted.current) {\r\n              if (!isOpen) {\r\n                  onDeactivate && onDeactivate();\r\n              }\r\n              else {\r\n                  onActivate && onActivate();\r\n              }\r\n          }\r\n          else {\r\n              mounted.current = true;\r\n          }\r\n      }, [isOpen]);\r\n      return (React__default.createElement(React.Fragment, null,\r\n          children &&\r\n              (trigger ? (React__default.createElement(OverlayTrigger, { elementType: triggerElement, ref: overlayTriggerRef, className: triggerClassName, trigger: trigger, onActivate: event => {\r\n                      onActivate === null || onActivate === void 0 ? void 0 : onActivate(event);\r\n                  }, onDeactivate: event => {\r\n                      onDeactivate === null || onDeactivate === void 0 ? void 0 : onDeactivate(event);\r\n                  } }, children)) : (children)),\r\n          React__default.createElement(Component, null, () => content())));\r\n  });\n\n  const useOverlay = () => {\r\n      const context = React.useContext(OverlayContext);\r\n      if (context === undefined) {\r\n          throw new Error('`useOverlay` hook can only be used inside a overlay component.');\r\n      }\r\n      return context;\r\n  };\n\n  exports.Backdrop = Backdrop;\n  exports.ConnectedOverlay = ConnectedOverlay;\n  exports.GlobalOverlay = GlobalOverlay;\n  exports.OverlayContext = OverlayContext;\n  exports.OverlayPortal = OverlayPortal;\n  exports.OverlayTrigger = OverlayTrigger;\n  exports.Portal = Portal;\n  exports.Position = Position;\n  exports.useConnectedOverlay = useConnectedOverlay;\n  exports.useExitListener = useExitListener;\n  exports.useGlobalOverlay = useGlobalOverlay;\n  exports.useId = useId;\n  exports.useOverlay = useOverlay;\n  exports.useOverlayPortal = useOverlayPortal;\n  exports.usePortal = usePortal;\n  exports.usePosition = usePosition;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n"]},"metadata":{},"sourceType":"script"}